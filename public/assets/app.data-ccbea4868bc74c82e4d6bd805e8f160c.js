$(document).ready(function(){$("#docs pre code").each(function(){var e=$(this),t=e.html();e.html(t.replace(/</g,"&lt;").replace(/>/g,"&gt;"))}),$(document).on("click",".the-icons a",function(e){e&&e.preventDefault()}),$(document).on("change",'table thead [type="checkbox"]',function(e){e&&e.preventDefault();var t=$(e.target).closest("table"),a=$(e.target).is(":checked");$('tbody [type="checkbox"]',t).prop("checked",a)}),$(document).on("click",'[data-toggle^="progress"]',function(e){e&&e.preventDefault(),$el=$(e.target),$target=$($el.data("target")),$(".progress",$target).each(function(){var e,t=50,a=$(".progress-bar",this).last();($(this).hasClass("progress-xs")||$(this).hasClass("progress-sm"))&&(t=100),e=Math.floor(Math.random()*t)+"%",a.css("width",e).attr("data-original-title",e)})});var e=new Date,t=e.getDate(),a=e.getMonth(),o=e.getFullYear(),n=function(e){var t={title:$.trim(e.text()),className:e.attr("class").replace("label","")};e.data("eventObject",t),e.draggable({zIndex:999,revert:!0,revertDuration:0})};$(".calendar").each(function(){$(this).fullCalendar({header:{left:"prev,next",center:"title",right:"today,month,agendaWeek,agendaDay"},editable:!0,droppable:!0,drop:function(e,t){var a=$(this).data("eventObject"),o=$.extend({},a);o.start=e,o.allDay=t,$("#calendar").fullCalendar("renderEvent",o,!0),$("#drop-remove").is(":checked")&&$(this).remove()},events:[{title:"All Day Event",start:new Date(o,a,1)},{title:"Long Event",start:new Date(o,a,t-5),end:new Date(o,a,t-2),className:"bg-primary"},{id:999,title:"Repeating Event",start:new Date(o,a,t-3,16,0),allDay:!1},{id:999,title:"Repeating Event",start:new Date(o,a,t+4,16,0),allDay:!1},{title:"Meeting",start:new Date(o,a,t,10,30),allDay:!1},{title:"Lunch",start:new Date(o,a,t,12,0),end:new Date(o,a,t,14,0),allDay:!1},{title:"Birthday Party",start:new Date(o,a,t+1,19,0),end:new Date(o,a,t+1,22,30),allDay:!1},{title:"Click for Google",start:new Date(o,a,28),end:new Date(o,a,29),url:"http://google.com/"}]})}),$("#myEvents").on("change",function(e,t){n($(t))}),$("#myEvents li").each(function(){n($(this))});var r=function(e){this._formatter=e.formatter,this._columns=e.columns,this._delay=e.delay};r.prototype={columns:function(){return this._columns},data:function(e,t){var a="js/data/datagrid.json",o=this;setTimeout(function(){var n=$.extend(!0,[],o._data);$.ajax(a,{dataType:"json",async:!1,type:"GET"}).done(function(a){n=a.geonames,e.search&&(n=_.filter(n,function(t){var a=!1;return _.each(t,function(t){(_.isString(t)||_.isFinite(t))&&-1!==t.toString().toLowerCase().indexOf(e.search.toLowerCase())&&(a=!0)}),a})),e.filter&&(n=_.filter(n,function(t){switch(e.filter.value){case"lt5m":if(t.population<5e6)return!0;break;case"gte5m":if(t.population>=5e6)return!0;break;default:return!0}}));var r=n.length;e.sortProperty&&(n=_.sortBy(n,e.sortProperty),"desc"===e.sortDirection&&n.reverse());var i=e.pageIndex*e.pageSize,l=i+e.pageSize,s=l>r?r:l,c=Math.ceil(r/e.pageSize),d=e.pageIndex+1,h=i+1;n=n.slice(i,l),o._formatter&&o._formatter(n),t({data:n,start:h,end:s,count:r,pages:c,page:d})}).fail(function(){})},o._delay)}},$("#MyStretchGrid").each(function(){$(this).datagrid({dataSource:new r({columns:[{property:"toponymName",label:"Name",sortable:!0},{property:"countrycode",label:"Country",sortable:!0},{property:"population",label:"Population",sortable:!0},{property:"fcodeName",label:"Type",sortable:!0},{property:"geonameId",label:"Edit",sortable:!0}],formatter:function(e){$.each(e,function(e,t){t.geonameId='<a href="#edit?geonameid='+t.geonameId+'"><i class="icon-pencil"></i></a>'})}})})}),$('[data-ride="datatables"]').each(function(){$(this).dataTable({bProcessing:!0,sAjaxSource:"js/data/datatable.json",sDom:"<'row'<'col-sm-6'l><'col-sm-6'f>r>t<'row'<'col-sm-6'i><'col-sm-6'p>>",sPaginationType:"full_numbers",aoColumns:[{mData:"engine"},{mData:"browser"},{mData:"platform"},{mData:"version"},{mData:"grade"}]})}),$.fn.select2&&($("#select2-option").select2(),$("#select2-tags").select2({tags:["red","green","blue"],tokenSeparators:[","," "]})),$('a[href="#morris"]').on("shown.bs.tab",function(){if(!($(".graph").children().length>0)){i(!1);var e;$(window).resize(function(){clearTimeout(e),e=setTimeout(function(){i(!0)},500)})}});var i=function(e){e&&$(".graph").html("");var t=[{period:"2011 Q3",licensed:3407,sorned:660},{period:"2011 Q2",licensed:3351,sorned:629},{period:"2011 Q1",licensed:3269,sorned:618},{period:"2010 Q4",licensed:3246,sorned:661},{period:"2009 Q4",licensed:3171,sorned:676},{period:"2008 Q4",licensed:3155,sorned:681},{period:"2007 Q4",licensed:3226,sorned:620},{period:"2006 Q4",licensed:3245,sorned:null},{period:"2005 Q4",licensed:3289,sorned:null}];Morris.Line({element:"hero-graph",data:t,xkey:"period",ykeys:["licensed","sorned"],labels:["Licensed","Off the road"],lineColors:["#59dbbf","#aeb6cb"]}),Morris.Donut({element:"hero-donut",data:[{label:"Jam",value:25},{label:"Frosted",value:40},{label:"Custard",value:25},{label:"Sugar",value:10}],colors:["#afcf6f"],formatter:function(e){return e+"%"}}),l(),Morris.Bar({element:"hero-bar",data:[{device:"iPhone",geekbench:136},{device:"iPhone 3G",geekbench:137},{device:"iPhone 3GS",geekbench:275},{device:"iPhone 4",geekbench:380},{device:"iPhone 4S",geekbench:655},{device:"iPhone 5",geekbench:1571}],xkey:"device",ykeys:["geekbench"],labels:["Geekbench"],barRatio:.4,xLabelAngle:35,hideHover:"auto",barColors:["#aeb6cb"]})},l=function(){Morris.Area({element:"hero-area",data:[{period:"2010 Q1",iphone:2666,ipad:null,itouch:2647},{period:"2010 Q2",iphone:2778,ipad:2294,itouch:2441},{period:"2010 Q3",iphone:4912,ipad:1969,itouch:2501},{period:"2010 Q4",iphone:3767,ipad:3597,itouch:5689},{period:"2011 Q1",iphone:6810,ipad:1914,itouch:2293},{period:"2011 Q2",iphone:5670,ipad:4293,itouch:1881},{period:"2011 Q3",iphone:4820,ipad:3795,itouch:1588},{period:"2011 Q4",iphone:15073,ipad:5967,itouch:5175},{period:"2012 Q1",iphone:10687,ipad:4460,itouch:2028},{period:"2012 Q2",iphone:8432,ipad:5713,itouch:1791}],xkey:"period",ykeys:["iphone","ipad","itouch"],labels:["iPhone","iPad","iPod Touch"],hideHover:"auto",lineWidth:2,pointSize:4,lineColors:["#59dbbf","#aeb6cb","#5dcff3"],fillOpacity:.5,smooth:!0})};$("#tab1 #hero-area").each(function(){l();var e;$(window).resize(function(){clearTimeout(e),e=setTimeout(function(){$(".graph").html(""),l()},500)})})});